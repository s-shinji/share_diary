.edit-page
  %i
    Edit #{resource_name.to_s.humanize}
  = form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
    = render "devise/shared/error_messages", resource: resource
    .user-info
      .field.avatar-box
        -if @user.avatar? 
          = image_tag @user.avatar.url, class:"avatar-image"
          =f.file_field :avatar, accept: 'image/jpeg,image/gif,image/png' 
        -else
          = image_tag "/assets/default.jpg", class:"avatar-image"
          =f.file_field :avatar, accept: 'image/jpeg,image/gif,image/png' 
        %br/
        %br/
        %br/

      .field.email
        = f.label :email, class:"email-label"
        %br/
        = f.email_field :email, autofocus: true, autocomplete: "email",class:"email-input"
      - if devise_mapping.confirmable? && resource.pending_reconfirmation?
        %div
          Currently waiting confirmation for: #{resource.unconfirmed_email}
      %br/
      %br/
      %br/

    .field.introduce
      = f.label :introduce,class:"introduce-label"
      %br/
      = f.text_area :introduce, row:2, class:"introduce"
      %br/
      %br/
    .actions
      = f.submit "Update"
  = link_to "Back", :back, class:"back"